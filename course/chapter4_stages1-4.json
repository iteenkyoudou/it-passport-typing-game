{
  "chapter": 4,
  "stages": [
    {
      "stageId": 1,
      "title": "データベースとは",
      "subtitle": "大量のデータを整理して管理するしくみ",
      "category": "テクノロジ系",
      "subcategory": "データベース方式",
      "estimatedMinutes": 15,
      "mainQuestion": {
        "source": "令和7年 問65",
        "originalText": "DBMSにおいて，データの検索を高速に行う目的で，必要に応じて設定して利用する情報はどれか。",
        "choices": {
          "ア": "インデックス",
          "イ": "外部キー",
          "ウ": "主キー",
          "エ": "スキーマ"
        },
        "answer": "ア",
        "wordExplanations": [
          {
            "word": "DBMS",
            "reading": "ディービーエムエス",
            "explanation": "データベース管理システムのこと。大量のデータを整理して、みんなが安全に使えるようにしてくれるソフトウェアだよ。"
          },
          {
            "word": "インデックス",
            "reading": "インデックス",
            "explanation": "本の「索引（さくいん）」のようなもの。データを速く見つけるための目印だよ。"
          },
          {
            "word": "スキーマ",
            "reading": "スキーマ",
            "explanation": "データベースの「設計図」のこと。どんなデータをどう保存するかの構造を決めるものだよ。"
          }
        ],
        "questionExplained": "この問題は「データベースでデータを速く見つけるために使うものは何？」を聞いているよ。\n\nデータベースにたくさんのデータが入っていると、目当てのデータを探すのに時間がかかるよね。そんなとき、本の後ろにある「索引（さくいん）」のように、どこに何があるか目印をつけておくと速く見つけられるんだ。",
        "choiceAnalysis": [
          {
            "choice": "ア",
            "verdict": "◎ 正解",
            "explanation": "インデックスは本の索引のようなもの。データがどこにあるか目印をつけておくことで、全部のデータを調べなくても速く見つけられるよ！"
          },
          {
            "choice": "イ",
            "verdict": "✗",
            "explanation": "外部キーは、別のテーブル（表）とつなげるための「合い鍵」のようなもの。検索を速くする機能ではないよ。"
          },
          {
            "choice": "ウ",
            "verdict": "✗",
            "explanation": "主キーは、データを1つ1つ見分けるための「名札」のようなもの。大事な役割だけど、検索を速くする目的のものではないよ。"
          },
          {
            "choice": "エ",
            "verdict": "✗",
            "explanation": "スキーマはデータベースの「設計図」。どんな構造にするかを決めるもので、検索の速さとは違う役割だよ。"
          }
        ],
        "solvingStrategy": {
          "steps": [
            "「データの検索を高速に行う」というキーワードに注目する",
            "本の索引（さくいん）を思い出そう → 目的のページをすぐ見つけられる！",
            "データベースの索引にあたる用語を選ぼう"
          ],
          "trap": "「主キー」もデータベースで大事なものだけど、主キーは「データを見分ける」ためのもの。検索を速くする仕組みとは役割が違うよ。"
        }
      },
      "relatedKnowledge": {
        "title": "データベースの基本を知ろう",
        "content": [
          {
            "term": "データベース（DB）",
            "description": "たくさんのデータを整理して保存し、必要なときにすぐ取り出せるようにしたもの。図書館で本を分類して棚に並べるようなイメージだよ。"
          },
          {
            "term": "DBMS",
            "description": "データベース管理システム（Database Management System）の略。データベースを安全に管理してくれるソフトウェアのこと。図書館の司書さんのような役割だよ。"
          },
          {
            "term": "関係データベース",
            "description": "データを「表（テーブル）」の形で管理するデータベース。Excelの表のようにデータを行と列で整理するよ。今一番よく使われている種類だよ。"
          },
          {
            "term": "主キー",
            "description": "テーブルの中でデータを1つ1つ区別するための特別な列のこと。クラスの出席番号のように、絶対に同じ番号がかぶらないようになっているよ。"
          },
          {
            "term": "インデックス",
            "description": "データを速く見つけるための索引。教科書の後ろにある「さくいん」と同じで、どこに何があるかの目印をつけておくことで、検索がとても速くなるんだ。"
          }
        ]
      },
      "practiceQuestions": [
        {
          "source": "令和4年 問65",
          "questionText": "関係データベースにおいて，「従業員」表の主キーとして，最も適切なものはどれか。ここで，従業員番号は従業員ごとに一意であり，同姓同名の従業員が存在する場合がある。",
          "choices": {
            "ア": "従業員番号",
            "イ": "従業員番号と部門コード",
            "ウ": "従業員名",
            "エ": "部門コード"
          },
          "answer": "ア",
          "shortExplanation": "主キーは「絶対にかぶらない値」で選ぶよ。従業員番号は1人1つだけの番号だから、これが主キーにぴったり。名前は同じ人がいるかもしれないから使えないよ。",
          "questionExplained": "この問題は「従業員の表で、一人ひとりを見分けるための主キーは何がいい？」を聞いているよ。\n\n主キーは「絶対に同じ値がかぶらないもの」を選ばないといけないんだ。出席番号が絶対にかぶらないのと同じだね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "従業員番号は1人に1つだけの番号だから、絶対にかぶらない。主キーにぴったりだよ！"},
            {"choice": "イ", "verdict": "✗", "explanation": "従業員番号だけで見分けられるから、部門コードを足す必要はないよ。主キーは最小限でOK。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "同姓同名の人がいるかもしれないから、名前では見分けられないよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "1つの部門に何人もいるから、部門コードだけでは個人を見分けられないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "主キー＝「絶対にかぶらない値」と覚える",
              "従業員番号は「一意（いちい）」＝1人1つだけ",
              "「絶対にかぶらない」かつ「最小限」の項目を探そう"
            ],
            "trap": "複数の項目を組み合わせた選択肢もあるけど、1つだけで見分けられるなら余計なものは付けない方がいいよ。主キーは最小限がルールだよ。"
          }
        },
        {
          "source": "令和6年 問74",
          "questionText": "トランザクション処理に関する記述のうち，適切なものはどれか。",
          "choices": {
            "ア": "コミットとは，トランザクションが正常に処理されなかったときに，データベースをトランザクション開始前の状態に戻すことである。",
            "イ": "排他制御とは，トランザクションが正常に処理されたときに，データベースの内容を確定させることである。",
            "ウ": "ロールバックとは，複数のトランザクションが同時に同一データを更新しようとしたときに，データの矛盾が起きないようにすることである。",
            "エ": "ログとは，データベースの更新履歴を記録したファイルのことである。"
          },
          "answer": "エ",
          "shortExplanation": "ログは「いつ・だれが・何をしたか」を記録した日記のようなもの。データベースが壊れたときの復旧にも使えるんだよ。他の選択肢は用語の説明が入れ替わっているから注意！",
          "questionExplained": "この問題は「データベースのトランザクション処理に関する用語の意味を正しく理解しているか？」を聞いているよ。\n\n選択肢ア〜ウは、それぞれの用語の説明がわざと入れ替えられているんだ。コミット、排他制御、ロールバック、ログの意味をしっかり覚えておこう。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "これはロールバックの説明だよ。コミットは「確定する」こと。ロールバックが「元に戻す」ことだよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "これはコミットの説明だよ。排他制御は「同時に更新して矛盾が起きないようにする」ことだよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "これは排他制御の説明だよ。ロールバックは「元に戻す」ことだよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "ログ＝更新履歴の記録。データベースの変更を全部メモしておくファイルで、トラブル時の復旧に役立つよ！"}
          ],
          "solvingStrategy": {
            "steps": [
              "各用語の意味を確認：コミット＝確定、ロールバック＝元に戻す、排他制御＝同時更新を防ぐ",
              "用語と説明が入れ替わっているひっかけに注意！",
              "用語と説明が正しく対応している選択肢を見つけよう"
            ],
            "trap": "用語と説明が入れ替わっている「ひっかけ問題」だよ。コミット⇔ロールバック、排他制御の意味をペアで覚えておこう。"
          }
        },
        {
          "source": "令和5年 問66",
          "questionText": "トランザクション処理におけるコミットの説明として，適切なものはどれか。",
          "choices": {
            "ア": "あるトランザクションが共有データを更新しようとしたとき，そのデータに対する他のトランザクションからの更新を禁止すること",
            "イ": "トランザクションが正常に処理されたときに，データベースへの更新を確定させること",
            "ウ": "何らかの理由で，トランザクションが正常に処理されなかったときに，データベースをトランザクション開始前の状態にすること",
            "エ": "複数の表を，互いに関係付ける列をキーとして，一つの表にすること"
          },
          "answer": "イ",
          "shortExplanation": "コミット＝「これでOK！確定！」という意味。ゲームのセーブと同じで、処理が全部うまくいったときにデータを保存確定するんだよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "これは排他制御（ロック）の説明だよ。他の人が同時に変更できないようにすること。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "コミット＝更新を確定すること。ゲームの「セーブ」と同じイメージだよ！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "これはロールバックの説明だよ。失敗したときに「やり直し」するイメージだね。"},
            {"choice": "エ", "verdict": "✗", "explanation": "これは結合（ジョイン）の説明だよ。2つの表を合体させることだね。"}
          ],
          "solvingStrategy": {
            "steps": [
              "コミット＝「確定」を思い出す（commit＝約束する、確定する）",
              "「正常に処理されたとき」＋「更新を確定」がポイント",
              "この定義に合う選択肢を探そう"
            ],
            "trap": "ロールバックと混同しやすいよ。コミット＝OK→確定、ロールバック＝NG→元に戻す、とセットで覚えよう。"
          }
        },
        {
          "source": "令和3年 問62",
          "questionText": "金融システムの口座振替では，振替元の口座からの出金処理と振替先の口座への入金処理について，両方の処理が実行されるか，両方とも実行されないかのどちらかであることを保証することによってデータベースの整合性を保っている。データベースに対するこのような一連の処理をトランザクションとして扱い，矛盾なく処理が完了したときに，データベースの更新内容を確定することを何というか。",
          "choices": {
            "ア": "コミット",
            "イ": "スキーマ",
            "ウ": "ロールフォワード",
            "エ": "ロック"
          },
          "answer": "ア",
          "shortExplanation": "銀行の送金で「お金を引く」と「お金を入れる」は両方成功しないとダメ！全部うまくいったときに「確定！」とするのがコミットだよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "コミット＝トランザクションが全部成功したときに、変更を確定すること！"},
            {"choice": "イ", "verdict": "✗", "explanation": "スキーマはデータベースの設計図のこと。確定する処理とは関係ないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "ロールフォワードはログを使ってデータを最新の状態に復旧する方法のこと。"},
            {"choice": "エ", "verdict": "✗", "explanation": "ロックは他の人が同時にデータを変更できないようにすること。排他制御に使うよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「更新内容を確定する」というキーワードに注目",
              "コミット＝確定、を思い出す",
              "「確定する」という意味の用語を選ぼう"
            ],
            "trap": "「ロールフォワード」はロールバックと名前が似ていて紛らわしいけど、障害が起きたときにログを使って復旧する方法のことだよ。"
          }
        },
        {
          "source": "令和6年 問67",
          "questionText": "Webシステムが，Webサーバ2台とデータベースサーバ1台で構成されている。Webサーバの稼働率はいずれも0.8であり，データベースサーバの稼働率は0.9である。Webサーバのうち少なくとも1台とデータベースサーバが稼働していればシステムは稼働する。このとき，システム全体の稼働率は幾らか。",
          "choices": {
            "ア": "0.04",
            "イ": "0.58",
            "ウ": "0.86",
            "エ": "0.96"
          },
          "answer": "ウ",
          "shortExplanation": "Webサーバ2台は「どちらか1台動けばOK」→並列。それとDBサーバが「両方必要」→直列。並列部分＝1-(0.2×0.2)=0.96、全体＝0.96×0.9=0.864≒0.86だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "0.04はWebサーバ2台が両方止まる確率だよ。これはシステム全体の稼働率ではないね。"},
            {"choice": "イ", "verdict": "✗", "explanation": "0.58は計算が間違っているときに出る値だよ。"},
            {"choice": "ウ", "verdict": "◎ 正解", "explanation": "Webサーバ2台並列の稼働率0.96×DBサーバ0.9＝0.864。小数第2位で四捨五入すると0.86！"},
            {"choice": "エ", "verdict": "✗", "explanation": "0.96はWebサーバ2台の並列部分だけの稼働率。DBサーバの分を掛けるのを忘れているよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "並列（どちらか1台でOK）の公式：1−(1−r1)×(1−r2)を使う",
              "Webサーバ並列：1−(1−0.8)×(1−0.8)＝1−0.04＝0.96",
              "直列（両方必要）の公式：r1×r2で、0.96×0.9を計算しよう"
            ],
            "trap": "並列部分の稼働率だけで終わりにしてしまう人が多いよ。Webサーバの並列部分だけで終わらず、必ずDBサーバの稼働率も掛けること！"
          }
        }
      ],
      "cardReward": {
        "cardName": "データベースの守護者",
        "rarity": 1,
        "summary": "データベースは大量のデータを整理して管理するしくみ。DBMSが安全に管理し、関係データベースは表の形で管理するよ。主キーはデータの名札、インデックスは検索を速くする索引だよ！",
        "exp": 100,
        "gold": 200
      }
    },
    {
      "stageId": 2,
      "title": "テーブル設計",
      "subtitle": "データをきれいに整理する方法",
      "category": "テクノロジ系",
      "subcategory": "データベース設計",
      "estimatedMinutes": 15,
      "mainQuestion": {
        "source": "令和7年 問95",
        "originalText": "データベース設計におけるデータ分析で行うこととして，適切なものはどれか。",
        "choices": {
          "ア": "データウェアハウスから業務ごとに必要な情報を抽出する。",
          "イ": "データ項目の内容が，指定された条件を満足する行だけを抽出する。",
          "ウ": "必要なデータ項目を洗い出し，項目間の関連を整理する。",
          "エ": "膨大な情報から統計的手法などを用いて，ビジネスに活用できる情報を探索する。"
        },
        "answer": "ウ",
        "wordExplanations": [
          {
            "word": "データ分析",
            "reading": "データぶんせき",
            "explanation": "データベースを作る前に「どんなデータが必要か」「データ同士はどう関係するか」を調べて整理すること。"
          },
          {
            "word": "データ項目",
            "reading": "データこうもく",
            "explanation": "表の「列」のこと。名前、電話番号、住所のように、データの種類を表すよ。"
          },
          {
            "word": "データウェアハウス",
            "reading": "データウェアハウス",
            "explanation": "いろいろなシステムのデータを集めて保存する大きな倉庫のようなもの。分析に使うための「データの倉庫」だよ。"
          }
        ],
        "questionExplained": "この問題は「データベースを設計するとき、最初にやる『データ分析』って何をするの？」を聞いているよ。\n\nデータベースを作る前に、まず「どんなデータが必要？」「そのデータはどうつながっている？」を調べて整理するんだ。これが「データ分析」だよ。",
        "choiceAnalysis": [
          {
            "choice": "ア",
            "verdict": "✗",
            "explanation": "これはOLAP分析（データウェアハウスの分析）の話。データベースを「使う」ときの話で、「作る前の設計」とは違うよ。"
          },
          {
            "choice": "イ",
            "verdict": "✗",
            "explanation": "これはSQL（データ検索）の話。データベースがもう出来上がった後にやることだよ。"
          },
          {
            "choice": "ウ",
            "verdict": "◎ 正解",
            "explanation": "データベース設計では、まず「どんなデータが必要か」を洗い出して、「データ同士の関係」を整理するよ。これがデータ分析！"
          },
          {
            "choice": "エ",
            "verdict": "✗",
            "explanation": "これはデータマイニングの説明。ビジネスで役立つ情報を「掘り出す」技術のことで、設計のための分析とは違うよ。"
          }
        ],
        "solvingStrategy": {
          "steps": [
            "「データベース設計における」というキーワードに注目 → 作る前の話",
            "設計＝「何が必要か」「どう整理するか」を決めること",
            "「設計段階の分析」にふさわしい内容の選択肢を見つけよう"
          ],
          "trap": "「データベースを使った分析」と「データベースを作るための分析」を混同しやすいよ。問題は設計段階の話を聞いているから、運用段階の話と間違えないように注意しよう。"
        }
      },
      "relatedKnowledge": {
        "title": "テーブル設計の基本を知ろう",
        "content": [
          {
            "term": "テーブル（表）",
            "description": "関係データベースでデータを保存する「表」のこと。Excelのシートのように行と列で構成されているよ。行がデータ1件分、列がデータの種類（名前、年齢など）だよ。"
          },
          {
            "term": "主キー（プライマリキー）",
            "description": "テーブルの中でデータを1件ずつ確実に見分けるための列。出席番号のように「絶対にかぶらない値」を持つ列を選ぶよ。NULLも許されないんだ。"
          },
          {
            "term": "外部キー（フォーリンキー）",
            "description": "2つのテーブルをつなげるための「合い鍵」。たとえば、生徒テーブルの「クラスID」が、クラステーブルの主キーと同じ値なら、どの生徒がどのクラスかわかるんだ。"
          },
          {
            "term": "正規化",
            "description": "データの重複（同じ情報が何回も出ること）をなくして、テーブルをすっきり整理すること。同じ住所を何度も書くのは無駄だから、住所テーブルを別に作って番号で参照するイメージだよ。"
          },
          {
            "term": "E-R図",
            "description": "Entity-Relationship図の略。データベースに登場する「もの（エンティティ）」と「つながり（リレーションシップ）」を図にしたもの。設計のときに全体像を見る地図のようなものだよ。"
          }
        ]
      },
      "practiceQuestions": [
        {
          "source": "令和3年 問95",
          "questionText": "関係データベースで管理された「商品」表，「売上」表から売上日が5月中で，かつ，商品ごとの合計額が20,000円以上になっている商品だけを全て挙げたものはどれか。",
          "choices": {
            "ア": "商品A，商品B，商品C",
            "イ": "商品A，商品B，商品C，商品D",
            "ウ": "商品B，商品C",
            "エ": "商品C"
          },
          "answer": "ウ",
          "shortExplanation": "まず5月のデータだけを選び、次に商品ごとの売上合計を計算して、20,000円以上のものを探すんだ。条件を順番に当てはめていくことが大事だよ。",
          "questionExplained": "この問題は「2つの条件（5月中＋合計20,000円以上）を両方満たす商品を探そう」という問題だよ。\n\n表を見て5月の売上データだけを抜き出して、商品ごとに金額を足し算して、20,000円以上になるものを見つけるんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "商品Aは5月の売上合計が20,000円未満だよ。条件をもう一度確認しよう。"},
            {"choice": "イ", "verdict": "✗", "explanation": "商品Dは5月に売上がないか、合計が足りないよ。"},
            {"choice": "ウ", "verdict": "◎ 正解", "explanation": "5月中の売上を商品ごとに合計すると、商品Bと商品Cだけが20,000円以上になるよ！"},
            {"choice": "エ", "verdict": "✗", "explanation": "商品Cだけでなく、商品Bも条件を満たしているよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "まず「5月中」のデータだけを選ぶ",
              "次に「商品ごと」に売上金額を合計する",
              "最後に「20,000円以上」のものだけを残して、該当する商品を数えよう"
            ],
            "trap": "条件が2つあるので、片方だけで判断しないこと。「5月中」と「20,000円以上」の両方を満たすものを探そう。"
          }
        },
        {
          "source": "令和6年 問93",
          "questionText": "関係データベースで管理している「従業員」表から，氏名が'%葉\\_'に該当する従業員を抽出した。抽出された従業員は何名か。ここで，\"\\_\"は任意の1文字を表し，\"%\"は0文字以上の任意の文字列を表すものとする。",
          "choices": {
            "ア": "1",
            "イ": "2",
            "ウ": "3",
            "エ": "4"
          },
          "answer": "イ",
          "shortExplanation": "「%葉_」は「どんな文字でもOK＋葉＋何か1文字」というパターン。つまり「葉」の後ろにちょうど1文字あるものが条件だよ。これに当てはまるのは2名だよ。",
          "questionExplained": "この問題は「ワイルドカード（%や_）を使って名前を検索するパターンを理解しているか？」を聞いているよ。\n\n%は「何文字でもOK（0文字も含む）」、_は「ちょうど1文字」という意味。'%葉_'は「何かの後に'葉'があって、その後ろにちょうど1文字ある」名前を探すんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "条件に当てはまる人は1名ではないよ。もう1名見落としていないか確認しよう。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "千葉翔さんと鈴木葉子さんのように、「葉」の後ろにちょうど1文字あるのは2名だよ！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "パターンに当てはまらない人も数えてしまっているよ。「葉」で終わる名前は条件に合わないよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "「葉」を含む人全員ではなく、「葉の後にちょうど1文字」という条件に注意しよう。"}
          ],
          "solvingStrategy": {
            "steps": [
              "%＝0文字以上の何でもOK、_＝ちょうど1文字、を確認",
              "'%葉_'は「○○葉△」のパターン（△はちょうど1文字）",
              "従業員の名前を1人ずつチェックして、このパターンに合う人を数えよう"
            ],
            "trap": "「葉」で名前が終わる人（例：若葉）は_がないから当てはまらないよ。「葉」の後にちょうど1文字必要なことを忘れずに！"
          }
        },
        {
          "source": "令和7年 問66",
          "questionText": "関係データベースの「ログイン記録」表と「部署」表がある。ログインに失敗した従業員，又は2022/4/10 09:00:00以前にログインに成功した従業員が所属する部署名を全て挙げたものはどれか。",
          "choices": {
            "ア": "営業部，システム部",
            "イ": "営業部，システム部，人事部",
            "ウ": "営業部，人事部",
            "エ": "システム部，人事部"
          },
          "answer": "イ",
          "shortExplanation": "「ログイン失敗した人」と「指定日時より前にログイン成功した人」を表から探して、その人たちの部署名を答える問題だよ。条件は「または」で結ばれているから、どちらか片方でもOKだよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "人事部の従業員も条件に当てはまるから、2つだけでは足りないよ。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "営業部、システム部、人事部の3つ全てに条件に当てはまる従業員がいるよ！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "システム部も条件に当てはまる人がいるから忘れないでね。"},
            {"choice": "エ", "verdict": "✗", "explanation": "営業部にも条件に当てはまる人がいるよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "まず「ログインに失敗した」記録を探す",
              "次に「2022/4/10 09:00:00以前にログイン成功した」記録を探す",
              "「または」なので両方の結果を合わせて、それぞれの部署名を確認する"
            ],
            "trap": "「または（OR）」と「かつ（AND）」を間違えないこと。「または」はどちらか一方でも当てはまればOKだよ。"
          }
        },
        {
          "source": "令和6年 問92",
          "questionText": "1台のサーバで電子メールと情報検索の両方の機能を提供しているとき，それぞれの機能を利用するアプリケーションプログラムの指定に使用するものはどれか。",
          "choices": {
            "ア": "IPアドレス",
            "イ": "ドメイン",
            "ウ": "ポート番号",
            "エ": "ホスト名"
          },
          "answer": "ウ",
          "shortExplanation": "ポート番号は、1つのサーバの中で「どのサービスに用があるか」を指定する番号だよ。マンションの部屋番号みたいなものだね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "IPアドレスはサーバ自体の住所。1台のサーバの中のどの機能かは指定できないよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "ドメインもサーバの場所を示す名前。サーバの中のサービスの区別はできないよ。"},
            {"choice": "ウ", "verdict": "◎ 正解", "explanation": "ポート番号はサーバの中の「部屋番号」。メールは25番、Webは80番のように機能ごとに番号が決まっているよ！"},
            {"choice": "エ", "verdict": "✗", "explanation": "ホスト名もサーバを指す名前で、サーバの中の機能を区別するものではないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「1台のサーバで複数の機能」→ サーバは同じだからIPアドレスやドメインでは区別できない",
              "サーバの中の「機能」を指定するもの＝ポート番号",
              "サーバ内の機能を区別する仕組みの名前を思い出そう"
            ],
            "trap": "IPアドレスは「どのサーバか」を指定するもの。1台のサーバの中の「どの機能か」を指定するにはポート番号が必要だよ。"
          }
        },
        {
          "source": "令和6年 問95",
          "questionText": "AIの関連技術であるディープラーニングに用いられる技術として，最も適切なものはどれか。",
          "choices": {
            "ア": "ソーシャルネットワーク",
            "イ": "ニューラルネットワーク",
            "ウ": "フィージビリティスタディ",
            "エ": "フォールトトレラント"
          },
          "answer": "イ",
          "shortExplanation": "ディープラーニング（深層学習）は、人間の脳のしくみを真似した「ニューラルネットワーク」を何層にも重ねて学習する技術だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "ソーシャルネットワークはLINEやInstagramのようなSNSのこと。AIの技術ではないよ。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "ニューラルネットワーク＝脳の神経細胞（ニューロン）を模したモデル。これを何層にも重ねたのがディープラーニング！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "フィージビリティスタディ＝実現可能性調査。プロジェクトが実現できるか調べることで、AI技術ではないよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "フォールトトレラント＝障害に強いシステム設計のこと。AIの技術ではないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "ディープラーニング＝「深い学習」→ 何かを深く（何層にも）重ねている",
              "ニューラル＝「神経の」、ネットワーク＝「つながり」→ 脳の神経ネットワーク",
              "脳の神経ネットワークを模したモデルの名前を選ぼう"
            ],
            "trap": "「ソーシャルネットワーク」と「ニューラルネットワーク」は名前が似ているけど全然違うもの。ソーシャル＝社会の、ニューラル＝神経の、と区別しよう。"
          }
        }
      ],
      "cardReward": {
        "cardName": "テーブル設計の達人",
        "rarity": 2,
        "summary": "テーブル設計では、まず必要なデータを洗い出して関連を整理するよ。主キーで行を見分け、外部キーでテーブル同士をつなげるんだ。正規化でデータの重複をなくしてスッキリ整理しよう！",
        "exp": 100,
        "gold": 200
      }
    },
    {
      "stageId": 3,
      "title": "SQLの基本",
      "subtitle": "データベースと会話する言葉",
      "category": "テクノロジ系",
      "subcategory": "データ操作",
      "estimatedMinutes": 15,
      "mainQuestion": {
        "source": "令和6年 問93",
        "originalText": "関係データベースで管理している「従業員」表から，氏名が'%葉\\_'に該当する従業員を抽出した。抽出された従業員は何名か。ここで，\"\\_\"は任意の1文字を表し，\"%\"は0文字以上の任意の文字列を表すものとする。",
        "choices": {
          "ア": "1",
          "イ": "2",
          "ウ": "3",
          "エ": "4"
        },
        "answer": "イ",
        "wordExplanations": [
          {
            "word": "SQL",
            "reading": "エスキューエル",
            "explanation": "データベースに「これを探して」「これを追加して」とお願いするための言葉（言語）のこと。データベースとおしゃべりするための共通語だよ。"
          },
          {
            "word": "ワイルドカード",
            "reading": "ワイルドカード",
            "explanation": "「何にでもなれるカード」のこと。トランプのジョーカーみたいに、どんな文字の代わりにもなる特殊な記号だよ。"
          },
          {
            "word": "抽出",
            "reading": "ちゅうしゅつ",
            "explanation": "たくさんのデータの中から、条件に合うものだけを選び出すこと。ふるいにかけて必要なものだけ取り出すイメージだよ。"
          }
        ],
        "questionExplained": "この問題は「ワイルドカード（%と_）を使った検索パターンを正しく理解できるか？」を聞いているよ。\n\nSQLでは、%は「何文字でもOK（0文字でもOK）」、_は「ちょうど1文字」を表す特殊な記号だよ。'%葉_'は「何か文字があって（なくてもOK）＋葉＋ちょうど1文字」というパターンなんだ。",
        "choiceAnalysis": [
          {
            "choice": "ア",
            "verdict": "✗",
            "explanation": "1名だけではないよ。パターンに当てはまる人をもう一度確認してみよう。"
          },
          {
            "choice": "イ",
            "verdict": "◎ 正解",
            "explanation": "「葉」の後ろにちょうど1文字ある名前（千葉翔、鈴木葉子など）は2名だよ！"
          },
          {
            "choice": "ウ",
            "verdict": "✗",
            "explanation": "3名は多すぎるよ。「葉」で終わる名前は_の条件（後ろに1文字必要）を満たさないから注意！"
          },
          {
            "choice": "エ",
            "verdict": "✗",
            "explanation": "「葉」を含む人全員を数えてしまっているね。パターンの条件をもう一度確認しよう。"
          }
        ],
        "solvingStrategy": {
          "steps": [
            "%＝0文字以上の任意の文字列、_＝任意の1文字、を確認する",
            "'%葉_'のパターンを分解：「（何でもOK）＋葉＋（1文字）」",
            "従業員の氏名を1人ずつチェックして、このパターンに合う人を数えよう"
          ],
          "trap": "%と_の違いに注意！%は「0文字以上」だから「なくてもOK」だけど、_は「必ず1文字ある」。'%葉'だと「葉で終わる名前」、'%葉_'だと「葉の後に必ず1文字ある」になるよ。"
        }
      },
      "relatedKnowledge": {
        "title": "SQLの基本を覚えよう",
        "content": [
          {
            "term": "SELECT文",
            "description": "データを「検索する」ための命令文。「SELECT 列名 FROM テーブル名 WHERE 条件」の形で書くよ。「テーブルから条件に合うデータを選んで！」とお願いするイメージだね。"
          },
          {
            "term": "WHERE句",
            "description": "データを絞り込む条件を書くところ。「WHERE 年齢 >= 20」のように、「年齢が20以上のデータだけ！」と条件を指定できるよ。"
          },
          {
            "term": "ワイルドカード",
            "description": "%は「0文字以上の何でもOK」、_は「ちょうど1文字」を表す特殊記号。LIKE句と一緒に使って、あいまい検索ができるよ。「鈴%」で「鈴木」「鈴田」なども見つかるんだ。"
          },
          {
            "term": "GROUP BY句",
            "description": "データをグループに分けて集計するときに使う命令。「商品ごとの売上合計」のように、同じ種類のデータをまとめて計算するときに使うよ。"
          },
          {
            "term": "ORDER BY句",
            "description": "検索結果を並べ替える命令。ASCは昇順（小→大）、DESCは降順（大→小）。テストの点数を高い順に並べたいときはDESCを使うよ。"
          }
        ]
      },
      "practiceQuestions": [
        {
          "source": "令和3年 問62",
          "questionText": "金融システムの口座振替では，振替元の口座からの出金処理と振替先の口座への入金処理について，両方の処理が実行されるか，両方とも実行されないかのどちらかであることを保証することによってデータベースの整合性を保っている。データベースに対するこのような一連の処理をトランザクションとして扱い，矛盾なく処理が完了したときに，データベースの更新内容を確定することを何というか。",
          "choices": {
            "ア": "コミット",
            "イ": "スキーマ",
            "ウ": "ロールフォワード",
            "エ": "ロック"
          },
          "answer": "ア",
          "shortExplanation": "銀行の送金で「お金を引く」と「お金を入れる」は両方成功しないとダメ！全部うまくいったときに「確定！」とするのがコミットだよ。",
          "questionExplained": "この問題は「データベースの一連の処理が全部うまくいったときに、結果を確定する操作は何？」を聞いているよ。\n\n銀行でお金を送るとき、「引き出す」と「入金する」の両方が成功しないと困るよね。このように、セットで成功させないといけない処理の流れを「トランザクション」と呼ぶんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "コミット＝処理が全部うまくいったときに結果を確定すること。ゲームのセーブと同じ！"},
            {"choice": "イ", "verdict": "✗", "explanation": "スキーマはデータベースの設計図のこと。処理を確定する操作ではないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "ロールフォワードはログを使って障害後にデータを復旧する方法だよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "ロックはデータを他の人が同時に変更できないようにすること。排他制御に使うよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「更新内容を確定する」というキーワードに注目",
              "コミット＝確定する操作を思い出す",
              "各選択肢の中から「確定する」に当てはまる用語を探そう"
            ],
            "trap": "ロールフォワードとロールバックを混同しないように。ロールフォワード＝「前に進めて復旧」、ロールバック＝「後ろに戻す」だよ。"
          }
        },
        {
          "source": "令和5年 問66",
          "questionText": "トランザクション処理におけるコミットの説明として，適切なものはどれか。",
          "choices": {
            "ア": "あるトランザクションが共有データを更新しようとしたとき，そのデータに対する他のトランザクションからの更新を禁止すること",
            "イ": "トランザクションが正常に処理されたときに，データベースへの更新を確定させること",
            "ウ": "何らかの理由で，トランザクションが正常に処理されなかったときに，データベースをトランザクション開始前の状態にすること",
            "エ": "複数の表を，互いに関係付ける列をキーとして，一つの表にすること"
          },
          "answer": "イ",
          "shortExplanation": "コミット＝更新を確定すること。「全部うまくいったから、この変更を保存するよ！」というイメージだよ。ゲームでセーブするのと同じだね。",
          "questionExplained": "この問題は「コミットの正しい意味を選ぼう」という問題だよ。\n\n他の選択肢はそれぞれ別のデータベース用語の説明になっているんだ。ア＝排他制御、ウ＝ロールバック、エ＝結合（JOIN）のことだよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "これは排他制御（ロック）の説明だよ。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "コミット＝更新を確定！正常に処理された後に変更を確定させることだよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "これはロールバックの説明だよ。失敗したときに元に戻すことだね。"},
            {"choice": "エ", "verdict": "✗", "explanation": "これは結合（JOIN）の説明だよ。複数の表を1つにまとめることだね。"}
          ],
          "solvingStrategy": {
            "steps": [
              "コミット＝commit＝「確定する」を思い出す",
              "「正常に処理されたとき」＋「確定させる」がポイント",
              "各選択肢の説明が正しいかどうか確認しよう"
            ],
            "trap": "ア〜エは全部データベースに関する用語の説明。それぞれが何の説明か見分けられるようになろう。"
          }
        },
        {
          "source": "令和7年 問65",
          "questionText": "DBMSにおいて，データの検索を高速に行う目的で，必要に応じて設定して利用する情報はどれか。",
          "choices": {
            "ア": "インデックス",
            "イ": "外部キー",
            "ウ": "主キー",
            "エ": "スキーマ"
          },
          "answer": "ア",
          "shortExplanation": "インデックス＝索引（さくいん）。本の後ろについている索引のように、データの場所に目印をつけておくと検索が速くなるんだよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "インデックスは検索を速くするための索引！全データを見なくてもすぐに見つけられるよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "外部キーはテーブル間をつなぐための鍵。検索速度向上が目的ではないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "主キーはデータを一意に識別するためのもの。検索高速化の目的とは違うよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "スキーマはデータベースの構造定義。検索速度とは直接関係ないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「検索を高速に」がキーワード",
              "索引（インデックス）＝探すのを速くするもの",
              "検索を速くするための仕組みの名前を思い出そう"
            ],
            "trap": "主キーもインデックスの一種として使われることがあるけど、問題は「必要に応じて設定して利用する」と言っているから、主キーとは別に追加設定するインデックスのことだよ。"
          }
        },
        {
          "source": "令和6年 問58",
          "questionText": "一連の操作手順をあらかじめ定義しておき，実行する機能はどれか。",
          "choices": {
            "ア": "オートコンプリート",
            "イ": "ソースコード",
            "ウ": "プラグアンドプレイ",
            "エ": "マクロ"
          },
          "answer": "エ",
          "shortExplanation": "マクロは「操作の手順書」を作っておいて、ボタン1つで自動実行する機能だよ。何度も同じ作業をするときにとても便利だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "オートコンプリートは入力途中で候補を自動表示する機能。操作手順の定義とは違うよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "ソースコードはプログラムの文章そのもの。機能の名前ではないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "プラグアンドプレイは機器をつなぐと自動で使えるようにする機能。操作手順とは違うよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "マクロ＝操作手順をあらかじめ記録して、自動で実行する機能！繰り返し作業を楽にするよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「操作手順をあらかじめ定義」＋「実行する」がキーワード",
              "Excelなどの「マクロ」を思い出そう → 操作を記録して自動実行",
              "操作を記録して自動実行する機能の名前を選ぼう"
            ],
            "trap": "「ソースコード」も手順を書いたものだけど、これは「プログラムの文章」であって「操作手順を定義して実行する機能」の名前ではないよ。"
          }
        },
        {
          "source": "令和6年 問74",
          "questionText": "トランザクション処理に関する記述のうち，適切なものはどれか。",
          "choices": {
            "ア": "コミットとは，トランザクションが正常に処理されなかったときに，データベースをトランザクション開始前の状態に戻すことである。",
            "イ": "排他制御とは，トランザクションが正常に処理されたときに，データベースの内容を確定させることである。",
            "ウ": "ロールバックとは，複数のトランザクションが同時に同一データを更新しようとしたときに，データの矛盾が起きないようにすることである。",
            "エ": "ログとは，データベースの更新履歴を記録したファイルのことである。"
          },
          "answer": "エ",
          "shortExplanation": "ア〜ウは用語と説明が入れ替わったひっかけだよ。ログ＝更新履歴を記録したファイルが正しい。日記帳みたいにデータベースの変更を全部記録しているんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "これはロールバックの説明。コミットは「確定する」こと。"},
            {"choice": "イ", "verdict": "✗", "explanation": "これはコミットの説明。排他制御は「同時更新を防ぐ」こと。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "これは排他制御の説明。ロールバックは「元に戻す」こと。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "ログ＝更新履歴の記録ファイル。障害が起きたときにデータを復旧するためにも使えるよ！"}
          ],
          "solvingStrategy": {
            "steps": [
              "各用語の正しい意味：コミット＝確定、ロールバック＝元に戻す、排他制御＝同時更新防止",
              "用語と説明が入れ替わっているひっかけに注意！",
              "各用語と説明が正しく対応しているものを見つけよう"
            ],
            "trap": "この手の問題は用語と説明を入れ替えるパターンが多いよ。コミット/ロールバック/排他制御の意味をしっかり覚えておこう。"
          }
        }
      ],
      "cardReward": {
        "cardName": "SQLの魔法使い",
        "rarity": 2,
        "summary": "SQLはデータベースとおしゃべりする言葉。SELECTで検索、WHEREで条件指定、GROUP BYで集計。%と_のワイルドカードであいまい検索もできるよ。コミットで確定、ロールバックで元に戻す！",
        "exp": 100,
        "gold": 200
      }
    },
    {
      "stageId": 4,
      "title": "アルゴリズムの考え方",
      "subtitle": "問題を解くための手順を考えよう",
      "category": "テクノロジ系",
      "subcategory": "アルゴリズム",
      "estimatedMinutes": 15,
      "mainQuestion": {
        "source": "令和6年 問62",
        "originalText": "関数convertは，整数型の配列を引数として受け取り，配列の要素の値に基づいて文字列を生成して返す。関数convertの引数として配列を渡したとき，戻り値が\"AABAB\"となるものはどれか。ここで，配列の要素番号は1から始まるものとする。",
        "choices": {
          "ア": "{0, 0, 1, 2, 1}",
          "イ": "{0, 1, 2, 1, 1}",
          "ウ": "{1, 0, 1, 2, 0}",
          "エ": "{1, 1, 2, 1, 0}"
        },
        "answer": "エ",
        "wordExplanations": [
          {
            "word": "アルゴリズム",
            "reading": "アルゴリズム",
            "explanation": "問題を解くための手順や方法のこと。料理のレシピのように「まずこれをして、次にこれをする」と順番が決まっているよ。"
          },
          {
            "word": "配列",
            "reading": "はいれつ",
            "explanation": "データを番号をつけて順番に並べたもの。ロッカーの1番、2番、3番…に物を入れるイメージだよ。"
          },
          {
            "word": "関数",
            "reading": "かんすう",
            "explanation": "データを受け取って、決まった処理をして、結果を返す「機械」のようなもの。自動販売機にお金を入れるとジュースが出てくるのと似ているよ。"
          }
        ],
        "questionExplained": "この問題は「プログラムの関数がどう動くかを追いかけて、正しい入力を見つけよう」という問題だよ。\n\n関数convertは配列の要素を1つずつ見て、値が1なら\"A\"、それ以外なら\"B\"を文字列に追加するんだ。\"AABAB\"になるには、1番目と2番目が1（A）、3番目が1以外（B）、4番目が1（A）、5番目が1以外（B）の配列を探せばいいよ。",
        "choiceAnalysis": [
          {
            "choice": "ア",
            "verdict": "✗",
            "explanation": "{0,0,1,2,1}だと、1番目0→B、2番目0→B、3番目1→A、4番目2→B、5番目1→A。結果は\"BBABA\"。違うね。"
          },
          {
            "choice": "イ",
            "verdict": "✗",
            "explanation": "{0,1,2,1,1}だと、結果は\"BABAA\"。最初がBになってしまうから違うよ。"
          },
          {
            "choice": "ウ",
            "verdict": "✗",
            "explanation": "{1,0,1,2,0}だと、結果は\"ABABB\"。4番目がBになるけど、Aであるべきだから違うよ。"
          },
          {
            "choice": "エ",
            "verdict": "◎ 正解",
            "explanation": "{1,1,2,1,0}だと、1→A、1→A、2→B、1→A、0→B。結果は\"AABAB\"！ぴったりだね！"
          }
        ],
        "solvingStrategy": {
          "steps": [
            "\"AABAB\"を分析：1番目A、2番目A、3番目B、4番目A、5番目B",
            "A＝値が1、B＝値が1以外だから、{1, 1, 1以外, 1, 1以外}が必要",
            "各選択肢の配列を条件に当てはめて、パターンが一致するものを見つけよう"
          ],
          "trap": "全部の選択肢を関数に通してみると時間がかかるよ。先に「1番目と2番目が1」という条件で当てはまらないものを除外すると効率的だよ。"
        }
      },
      "relatedKnowledge": {
        "title": "アルゴリズムの考え方を知ろう",
        "content": [
          {
            "term": "アルゴリズム",
            "description": "問題を解くための手順のこと。「どうやったら答えにたどり着けるか」の道筋を、誰がやっても同じ結果になるように書き出したものだよ。料理のレシピと似ているね。"
          },
          {
            "term": "フローチャート",
            "description": "アルゴリズム（手順）を図にしたもの。四角は「処理」、ひし形は「判断」、矢印は「流れ」を表すよ。プログラムの設計図みたいなものだね。"
          },
          {
            "term": "順次・選択・繰返し",
            "description": "プログラムの3つの基本構造。「順次」は上から順に実行、「選択」はifのように条件で分かれる、「繰返し」はforやwhileのように同じ処理を何度もやることだよ。"
          },
          {
            "term": "線形探索法",
            "description": "データを先頭から1つずつ順番に調べて目的のデータを探す方法。本棚の本を左端から1冊ずつ確認するイメージ。簡単だけど、データが多いと時間がかかるよ。"
          },
          {
            "term": "二分探索法",
            "description": "並べ替え済みのデータの真ん中を見て、目的の値が左か右かを判断して探す範囲を半分に絞る方法。辞書を開いて「もっと前？もっと後ろ？」と探すのと同じで、とても速いよ。"
          }
        ]
      },
      "practiceQuestions": [
        {
          "source": "令和3年 問74",
          "questionText": "フローチャートXにおいて変数iの値が1→3→7→13と変化し，フローチャートYにおいて変数iの値が1→5→13→25と変化する。空欄aとbに入れる字句の適切な組合せはどれか。",
          "choices": {
            "ア": "a：2×i＋k，b：kを1から7まで3ずつ増やす",
            "イ": "a：2×i＋k，b：kを2から6まで2ずつ増やす",
            "ウ": "a：i＋2×k，b：kを1から7まで3ずつ増やす",
            "エ": "a：i＋2×k，b：kを2から6まで2ずつ増やす"
          },
          "answer": "エ",
          "shortExplanation": "フローチャートの変数の変化を追って、式と繰り返し条件を見つける問題だよ。実際に数字を当てはめて計算していくのがコツだよ。",
          "questionExplained": "この問題は「フローチャートの動きを追いかけて、正しい式と繰り返し条件を見つけよう」という問題だよ。\n\n変数iが1→3→7→13と変わるとき、増え方は2→4→6。つまりi＋2×kの式で、kが1,2,3と増えていくことがわかるんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "2×i＋kだと、i=1,k=1のとき2×1＋1=3は合うけど、次のステップで合わなくなるよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "2×i＋kの式ではフローチャートXの変化を再現できないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "i＋2×kは合うけど、kが1から7まで3ずつだとフローチャートYの変化を再現できないよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "i＋2×kの式で、フローチャートYではkを2から6まで2ずつ増やすと、1→5→13→25がぴったり再現できるよ！"}
          ],
          "solvingStrategy": {
            "steps": [
              "フローチャートXの変化を確認：1→3→7→13、増分は2,4,6",
              "増分2,4,6になる式を選択肢から探そう → これがaの答え",
              "aの式をフローチャートYに当てはめて、1→5→13→25になるkの範囲を確認しよう → これがbの答え"
            ],
            "trap": "いきなり全部を考えず、まずフローチャートXの増分（2,4,6）に注目して式aを決め、次にフローチャートYでbを決めると効率的だよ。"
          }
        },
        {
          "source": "令和4年 問96",
          "questionText": "関数calcXは引数inDataを受け取り，変数numの値が1→3→7→13と変化して戻り値13を返す。関数calcYは引数inDataを受け取り，変数numの値が1→5→13→25と変化して戻り値25を返す。プログラム中の空欄aとbに入れる字句の適切な組合せはどれか。",
          "choices": {
            "ア": "a：2×num＋i，b：iを1から7まで3ずつ増やす",
            "イ": "a：2×num＋i，b：iを2から6まで2ずつ増やす",
            "ウ": "a：num＋2×i，b：iを1から7まで3ずつ増やす",
            "エ": "a：num＋2×i，b：iを2から6まで2ずつ増やす"
          },
          "answer": "エ",
          "shortExplanation": "変数の変化パターンを追う問題だよ。numが1→3なら増分2、3→7なら増分4、7→13なら増分6。num＋2×iの式でiが1,2,3のとき増分が2,4,6になるから式が合うね。",
          "questionExplained": "この問題は「関数の中の変数がどう変化するかを追って、正しい式を見つけよう」という問題だよ。\n\nまずcalcXで1→3→7→13の増え方（2,4,6）を分析して式を決め、次にcalcYの変化で繰り返し条件を決めるんだ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "2×num＋iだと、num=1,i=1のとき3になるけど、次のステップで合わないよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "2×num＋iの式自体がcalcXの変化パターンと合わないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "num＋2×iは合うけど、iを1から7まで3ずつだとcalcYの1→5→13→25を再現できないよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "num＋2×iの式で、iを2から6まで2ずつ増やすと、calcYの1→5→13→25がぴったり！"}
          ],
          "solvingStrategy": {
            "steps": [
              "calcXの変化：1→3(+2)→7(+4)→13(+6)。増分が2,4,6で2ずつ増えている",
              "増分が2,4,6になる式を選択肢から探そう → これがaの答え",
              "aの式をcalcYに当てはめて、1→5→13→25になるiの範囲を確認しよう → これがbの答え"
            ],
            "trap": "2×num＋iとnum＋2×iは似ているけど結果は全く違うよ。必ず実際の数字を入れて確認しよう。"
          }
        },
        {
          "source": "令和6年 問85",
          "questionText": "2進数の文字列を整数に変換する関数がある。例えば，\"100\"を引数に与えると4を返す。プログラム中の空欄a，bに入れる字句の適切な組合せはどれか。",
          "choices": {
            "ア": "a：2のi乗，b：×",
            "イ": "a：2のi乗，b：＋",
            "ウ": "a：2の(i−1)乗，b：×",
            "エ": "a：2の(i−1)乗，b：＋"
          },
          "answer": "エ",
          "shortExplanation": "2進数を10進数に変換する仕組みだよ。各桁の値×（2の位の重み乗）を全部「足す（＋）」んだ。末尾からi番目の重みは2の(i-1)乗だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "2のi乗だと位がずれてしまうし、掛け算（×）で合計するのも間違いだよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "2のi乗だと最初の桁の重みが2^1=2になってしまう。0乗から始まるべきだよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "2の(i-1)乗は正しいけど、掛け算（×）で合計するのは間違い。足し算で合計するんだよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "末尾からi番目の位の重みは2の(i-1)乗。各桁の結果を足し算（＋）で合計して10進数にするよ！"}
          ],
          "solvingStrategy": {
            "steps": [
              "2進数\"100\"→ 1×2^2 + 0×2^1 + 0×2^0 = 4 を確認",
              "末尾からi番目の位の重み：i=1なら2^0、i=2なら2^1 → 2の(i-1)乗",
              "各桁の重みの求め方と、結果の合計方法を選択肢から選ぼう"
            ],
            "trap": "2のi乗と2の(i-1)乗の違いに注意！プログラムでは1番目の桁から数えるから、i=1のとき2^0=1になるべき。だからi-1が必要だよ。"
          }
        },
        {
          "source": "令和5年 問93",
          "questionText": "フールプルーフの考え方を適用した例として，適切なものはどれか。",
          "choices": {
            "ア": "HDDをRAIDで構成する。",
            "イ": "システムに障害が発生しても，最低限の機能を維持して処理を継続する。",
            "ウ": "システムを二重化して障害に備える。",
            "エ": "利用者がファイルの削除操作をしたときに，\"削除してよいか\"の確認メッセージを表示する。"
          },
          "answer": "エ",
          "shortExplanation": "フールプルーフは「人間がうっかりミスしても大丈夫なように設計すること」だよ。削除前に「本当に消す？」と確認するのがまさにこれだね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "RAIDはハードディスクの故障対策。フォールトトレラントの考え方だよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "障害時に最低限の機能を維持するのはフェールソフトの考え方だよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "二重化は障害対策。フォールトトレラントの考え方だよ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "確認メッセージで人間のうっかりミスを防ぐ！これがフールプルーフの考え方だよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "フールプルーフ＝fool（おバカ）＋proof（防止）＝「うっかりミス防止」",
              "人間が間違った操作をしても大丈夫なように設計する考え方",
              "各選択肢の中で「うっかりミス防止」に該当するものを探そう"
            ],
            "trap": "フールプルーフ、フォールトトレラント、フェールソフトは名前が似ていて紛らわしいよ。フール＝人間のミス防止、フォールト＝機械の故障対策、フェール＝故障時の動作方式、と覚えよう。"
          }
        },
        {
          "source": "令和7年 問85",
          "questionText": "AIシステムの学習において，学習を1回行うごとに誤り率が5%減少する（直前の誤り率の95%になる）。現在の正解率が30%であるとき，正解率が35%を超えるには，あと何回の学習が必要か。",
          "choices": {
            "ア": "1",
            "イ": "2",
            "ウ": "3",
            "エ": "4"
          },
          "answer": "イ",
          "shortExplanation": "正解率30%＝誤り率70%。1回学習で70%×0.95=66.5%、2回目で66.5%×0.95=63.175%。誤り率が65%を下回る（＝正解率35%超える）のは2回目だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "1回目の学習後：誤り率70%×0.95=66.5%→正解率33.5%。まだ35%を超えていないよ。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "2回目の学習後：誤り率66.5%×0.95=63.175%→正解率36.825%。35%を超えた！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "2回で超えるから、3回は多すぎるよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "2回で超えるから、4回は多すぎるよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "正解率30%→誤り率70%（100%-30%=70%）",
              "目標：正解率35%超え→誤り率65%未満にすればOK",
              "毎回0.95を掛けていき、誤り率が65%未満になる回数を求めよう"
            ],
            "trap": "「正解率」ではなく「誤り率」で計算すると簡単だよ。誤り率＝100%−正解率だから、誤り率を毎回0.95倍していくんだ。"
          }
        }
      ],
      "cardReward": {
        "cardName": "アルゴリズムの冒険者",
        "rarity": 3,
        "summary": "アルゴリズムは問題を解くための手順。フローチャートで図にできるよ。順次・選択・繰返しの3構造が基本。変数の変化を追いかけるトレースが大事。2進数変換や探索法も覚えよう！",
        "exp": 100,
        "gold": 200
      }
    }
  ]
}
