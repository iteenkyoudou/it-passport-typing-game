{
  "chapter": 4,
  "stages": [
    {
      "stageId": 9,
      "title": "章ボス: データとアルゴリズム総合テスト",
      "subtitle": "第4章の全範囲から出題！8問に挑戦しよう",
      "category": "テクノロジ系",
      "subcategory": "総合",
      "estimatedMinutes": 20,
      "isBossBattle": true,
      "passingScore": 6,
      "bossName": "データゴーレム",
      "bossSprite": "ボス/character_hero_red.png",
      "bossDescription": "データの力で圧倒する巨大な石の魔物。データベースとアルゴリズムの全知識で打ち砕け！",
      "questions": [
        {
          "id": "boss4-q1",
          "relatedStage": 1,
          "source": "令和5年 問100",
          "questionText": "関係データベースにおける結合操作はどれか。",
          "choices": {
            "ア": "表から，特定の条件を満たすレコードを抜き出した表を作る",
            "イ": "表から，特定のフィールドを抜き出した表を作る",
            "ウ": "二つの表から，同じ値をもつレコードを抜き出した表を作る",
            "エ": "二つの表から，フィールドの値によって関連付けした表を作る"
          },
          "answer": "エ",
          "shortExplanation": "関係データベースの「結合」は、二つの表を共通のフィールド（列）の値で関連付けて、一つの大きな表を作る操作だよ。たとえば「生徒表」と「成績表」を「生徒番号」で結合すると、生徒の名前と成績が一緒に見られるようになるんだ。ステージ1で学んだデータベースの基本操作だね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "これは「選択」操作だよ。条件に合うレコード（行）だけを抜き出す操作で、結合とは別の操作なんだ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "これは「射影」操作だよ。必要なフィールド（列）だけを取り出す操作で、結合ではないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "同じ値のレコードを抜き出すだけでは「結合」とは言わないよ。結合はフィールドの値で表同士を関連付ける操作なんだ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "結合＝二つの表をフィールドの値で関連付けてつなげる操作！たとえば「商品番号」をキーにして「商品表」と「売上表」を一つにまとめることができるよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "関係データベースの3大操作＝「選択」「射影」「結合」を思い出そう",
              "選択＝行を抜き出す、射影＝列を抜き出す、結合＝表同士をつなげる",
              "「二つの表」「フィールドの値で関連付け」がキーワード"
            ],
            "trap": "「選択」「射影」「結合」の3つの操作を混同しやすい。選択＝行（横）を選ぶ、射影＝列（縦）を選ぶ、結合＝表をつなげる、と覚えよう！"
          }
        },
        {
          "id": "boss4-q2",
          "relatedStage": 2,
          "source": "令和7年 問95",
          "questionText": "データベース設計におけるデータ分析で行うこととして，適切なものはどれか。",
          "choices": {
            "ア": "データウェアハウスから業務ごとに必要な情報を抽出する",
            "イ": "データ項目の内容が，指定された条件を満足する行だけを抽出する",
            "ウ": "必要なデータ項目を洗い出し，項目間の関連を整理する",
            "エ": "膨大な情報から統計的手法などを用いて，ビジネスに活用できる情報を探索する"
          },
          "answer": "ウ",
          "shortExplanation": "データベースを設計するとき、最初にやることは「どんなデータが必要か」を洗い出して、「データ同士がどう関係しているか」を整理すること。たとえば学校のデータベースなら、「生徒名」「クラス」「成績」などのデータ項目を決めて、関係を整理するんだ。ステージ2で学んだテーブル設計の基本だね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "データウェアハウスからの抽出は、データベースを作った「あと」に行うこと。設計段階ではまだデータウェアハウスはないよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "条件に合う行を抽出するのはSQLの「SELECT文」の話。これもデータベースを作った「あと」の操作だね。"},
            {"choice": "ウ", "verdict": "◎ 正解", "explanation": "データ分析＝設計の最初の段階で、必要なデータ項目を洗い出して整理すること。「何のデータが必要？」「データ同士はどう関係してる？」を考える作業だよ！"},
            {"choice": "エ", "verdict": "✗", "explanation": "統計手法で情報を探索するのは「データマイニング」のこと。これもデータベース完成後の活用方法であって、設計段階の作業ではないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "「データベース設計における」がキーワード。設計＝作る前の準備段階のこと",
              "設計段階で行うのは「何のデータが必要か洗い出す」「データ間の関連を整理する」こと",
              "他の選択肢はデータベースを作った「あと」の活用方法"
            ],
            "trap": "「データ分析」という言葉を聞くと「データマイニング」を思い浮かべがちだけど、ここでは「設計のためのデータ分析」。作る前に何が必要かを分析する作業だよ！"
          }
        },
        {
          "id": "boss4-q3",
          "relatedStage": 3,
          "source": "令和3年 問95",
          "questionText": "関係データベースで管理された\"商品\"表，\"売上\"表から売上日が5月中で，かつ，商品ごとの合計額が20,000円以上になっている商品だけを全て挙げたものはどれか。",
          "choices": {
            "ア": "商品A，商品B，商品C",
            "イ": "商品A，商品B，商品C，商品D",
            "ウ": "商品B，商品C",
            "エ": "商品C"
          },
          "answer": "ウ",
          "shortExplanation": "データベースから「5月中の売上」で「商品ごとの合計が20,000円以上」の商品を探す問題だよ。まず5月のデータだけを選んで、次に商品ごとに合計を計算して、20,000円以上のものだけを残すんだ。SQLでいうと、WHERE（条件で絞る）とGROUP BY（グループ化）とHAVING（集計結果で絞る）を使う操作だね。ステージ3で学んだSQLの基本だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "商品Aは5月中の売上合計が20,000円に届かないよ。条件をしっかり計算してみよう。"},
            {"choice": "イ", "verdict": "✗", "explanation": "商品Aと商品Dは条件を満たさないよ。「5月中」かつ「合計20,000円以上」の両方の条件を確認しよう。"},
            {"choice": "ウ", "verdict": "◎ 正解", "explanation": "5月中の売上を商品ごとに合計すると、商品Bと商品Cだけが20,000円以上になるよ！データを丁寧に集計することが大切だね。"},
            {"choice": "エ", "verdict": "✗", "explanation": "商品Cだけではなく、商品Bも条件を満たしているよ。全ての商品について確認することが大事だね。"}
          ],
          "solvingStrategy": {
            "steps": [
              "まず「5月中」の売上データだけを抜き出す（WHERE句のイメージ）",
              "次に「商品ごと」に売上金額を合計する（GROUP BY句のイメージ）",
              "最後に「合計が20,000円以上」の商品だけを選ぶ（HAVING句のイメージ）"
            ],
            "trap": "「5月中」という条件を忘れて全期間で計算すると間違えるよ。まず期間で絞ってから合計を計算する順番が大事！"
          }
        },
        {
          "id": "boss4-q4",
          "relatedStage": 4,
          "source": "令和5年 問69",
          "questionText": "配列に格納されているデータを探索するときの，探索アルゴリズムに関する記述のうち，適切なものはどれか。",
          "choices": {
            "ア": "2分探索法は，探索対象となる配列の先頭の要素から順に探索する",
            "イ": "線形探索法で探索するのに必要な計算量は，探索対象となる配列の要素数に比例する",
            "ウ": "線形探索法を用いるためには，探索対象となる配列の要素は要素の値で昇順又は降順にソートされている必要がある",
            "エ": "探索対象となる配列が同一であれば，探索に必要な計算量は探索する値によらず，2分探索法が線形探索法よりも少ない"
          },
          "answer": "イ",
          "shortExplanation": "線形探索法（リニアサーチ）は、データを先頭から1つずつ順番に調べていく方法だよ。データが100個あったら最大100回調べる必要があるから、計算量はデータの数に比例するんだ。本を1ページ目から順番にめくって探すイメージだね。ステージ4で学んだアルゴリズムの基本だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "先頭から順に探索するのは「線形探索法」のこと。2分探索法は真ん中から半分ずつ絞り込む方法だよ。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "線形探索法＝先頭から順番に1つずつ調べる。データが多いほど時間がかかるから、計算量はデータの数に比例するんだ！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "ソート（並べ替え）が必要なのは「2分探索法」のほう。線形探索法はデータがバラバラでも使えるよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "探す値が先頭近くにある場合は、線形探索のほうが速いこともあるよ。いつでも2分探索が速いとは限らないんだ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "線形探索法＝先頭から順番に探す。ソート不要だけど、データが多いと時間がかかる",
              "2分探索法＝真ん中で半分に分けて探す。ソートが必要だけど、データが多くても速い",
              "線形探索の計算量＝データ数に比例（O(n)）、2分探索の計算量＝対数に比例（O(log n)）"
            ],
            "trap": "線形探索と2分探索の特徴を逆に覚えやすい。線形＝順番に・ソート不要、2分＝半分ずつ・ソート必要と整理しよう！"
          }
        },
        {
          "id": "boss4-q5",
          "relatedStage": 5,
          "source": "令和6年 問88",
          "questionText": "JavaScriptに関する記述として，適切なものはどれか。",
          "choices": {
            "ア": "Webブラウザ上に，動的な振る舞いなどを組み込むことができる",
            "イ": "Webブラウザではなく，Webサーバ上だけで動作する",
            "ウ": "実行するためには，あらかじめコンパイルする必要がある",
            "エ": "名前のとおり，Javaのスクリプト版である"
          },
          "answer": "ア",
          "shortExplanation": "JavaScriptは、Webブラウザ上で動くプログラミング言語だよ。ボタンをクリックしたときの動きや、画面の内容を変化させるなど「動的な振る舞い」を作れるんだ。Webサイトを見たときにアニメーションが動いたり、入力チェックが行われたりするのは、JavaScriptのおかげなんだよ。ステージ5で学んだプログラミング言語の一つだね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "JavaScriptはWebブラウザで動く言語。ボタンの動きやアニメーション、入力チェックなど「動的な振る舞い」を実現できるよ！"},
            {"choice": "イ", "verdict": "✗", "explanation": "JavaScriptはWebブラウザ上で動くのが基本。サーバでも動かせる（Node.js）けど、「サーバだけ」というのは間違いだよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "JavaScriptは「インタプリタ方式」だから、コンパイル（事前に機械語に変換）は不要。ブラウザがその場で解釈して実行するんだ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "名前は似ているけど、JavaとJavaScriptは全く別の言語！開発した会社も文法も違うんだよ。名前の類似は歴史的な理由なんだ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "JavaScript＝Webブラウザで動くプログラミング言語",
              "インタプリタ方式＝コンパイル不要で、その場で解釈・実行される",
              "JavaとJavaScriptは名前が似ているだけで全く別の言語"
            ],
            "trap": "JavaとJavaScriptを混同しやすい！Java＝コンパイルが必要なプログラミング言語、JavaScript＝ブラウザでそのまま動くスクリプト言語と区別しよう。"
          }
        },
        {
          "id": "boss4-q6",
          "relatedStage": 6,
          "source": "令和5年 問70",
          "questionText": "Webサービスなどにおいて，信頼性を高め，かつ，利用者からの多量のアクセスを処理するために，複数のコンピュータを連携させて全体として一つのコンピュータであるかのように動作させる技法はどれか。",
          "choices": {
            "ア": "クラスタリング",
            "イ": "スプーリング",
            "ウ": "バッファリング",
            "エ": "ミラーリング"
          },
          "answer": "ア",
          "shortExplanation": "クラスタリングは、複数のコンピュータをつなげて、まるで1台の大きなコンピュータのように動かす技術だよ。たくさんの人がアクセスするWebサイトでは、1台のサーバだけだとパンクしてしまうから、複数台を連携させて処理能力を上げるんだ。ステージ6で学んだシステムの構成の一つだね。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "◎ 正解", "explanation": "クラスタリング＝複数のコンピュータを束ねて1つのシステムとして動かす技術。処理能力と信頼性の両方を高められるよ！"},
            {"choice": "イ", "verdict": "✗", "explanation": "スプーリングは、印刷データなどを一時的にディスクに保存して、CPUが他の仕事をしている間に処理する技術。複数のコンピュータを連携させる話ではないよ。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "バッファリングは、処理速度の違う装置間でデータを一時的にためておく技術。メモリにデータを一時保存するイメージだね。"},
            {"choice": "エ", "verdict": "✗", "explanation": "ミラーリングは同じデータを複数のディスクにコピーして保存する技術（RAID1）。データを守る技術であって、複数コンピュータの連携ではないよ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "キーワード＝「複数のコンピュータを連携」「一つのコンピュータのように動作」",
              "クラスタ（cluster）＝ぶどうの房。コンピュータを房のように束ねるイメージ",
              "スプーリング＝印刷の効率化、バッファリング＝速度差の調整、ミラーリング＝データのコピー"
            ],
            "trap": "クラスタリングとミラーリングを混同しやすい。クラスタリング＝コンピュータを束ねて性能アップ、ミラーリング＝ディスクをコピーしてデータを守る、と区別しよう！"
          }
        },
        {
          "id": "boss4-q7",
          "relatedStage": 7,
          "source": "令和5年 問93",
          "questionText": "フールプルーフの考え方を適用した例として，適切なものはどれか。",
          "choices": {
            "ア": "HDDをRAIDで構成する",
            "イ": "システムに障害が発生しても，最低限の機能を維持して処理を継続する",
            "ウ": "システムを二重化して障害に備える",
            "エ": "利用者がファイルの削除操作をしたときに，\"削除してよいか\"の確認メッセージを表示する"
          },
          "answer": "エ",
          "shortExplanation": "フールプルーフは「人がうっかりミスをしても、大きな問題が起きないようにする工夫」のことだよ。ファイルを消そうとしたとき「本当に消していいですか？」と聞いてくれるのがフールプルーフの例。ゲームでセーブデータを消すときに確認が出るのと同じ考え方だね。ステージ7で学んだシステムの信頼性の考え方だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "RAIDはHDD（ハードディスク）を複数台使ってデータを守るしくみ。機械の故障に備える「フォールトトレランス」の考え方だよ。"},
            {"choice": "イ", "verdict": "✗", "explanation": "障害時に最低限の機能を維持するのは「フェールソフト」の考え方。完全に止めずに縮小運転するイメージだね。"},
            {"choice": "ウ", "verdict": "✗", "explanation": "二重化して障害に備えるのは「フォールトトレランス」の考え方。予備を用意して故障に備えるんだ。"},
            {"choice": "エ", "verdict": "◎ 正解", "explanation": "フールプルーフ＝人のミスを防ぐ工夫。「削除していいですか？」の確認メッセージで、うっかり消してしまうのを防いでいるんだ！"}
          ],
          "solvingStrategy": {
            "steps": [
              "フール（fool）＝おっちょこちょいな人、プルーフ（proof）＝防ぐ。つまり「うっかりミスを防ぐ」",
              "フールプルーフは「人間のミス対策」、フォールトトレランスは「機械の故障対策」",
              "確認メッセージ、入力チェック、安全装置などが身近なフールプルーフの例"
            ],
            "trap": "フールプルーフ（ミス防止）とフォールトトレランス（故障に強い）とフェールソフト（縮小運転）を混同しやすい。フールプルーフは「人」のミスを防ぐ、他は「機械」の故障への備えと覚えよう！"
          }
        },
        {
          "id": "boss4-q8",
          "relatedStage": 8,
          "source": "令和4年 問77",
          "questionText": "トランザクション処理のACID特性に関する記述として，適切なものはどれか。",
          "choices": {
            "ア": "索引を用意することによって，データの検索時の検索速度を高めることができる",
            "イ": "データの更新時に，一連の処理が全て実行されるか，全く実行されないように制御することによって，原子性を保証することができる",
            "ウ": "データベースの複製を複数のサーバに分散配置することによって，可用性を高めることができる",
            "エ": "テーブルを正規化することによって，データに矛盾や重複が生じるのを防ぐことができる"
          },
          "answer": "イ",
          "shortExplanation": "ACID特性の「A」は原子性（Atomicity）のこと。「全部やるか、全くやらないか」のどちらかにする性質だよ。たとえばお金の振込みで「自分の口座から引く」と「相手の口座に入れる」は必ずセットで実行されるか、どちらも実行されないかのどちらか。片方だけ実行されたらお金が消えちゃうからね。ステージ8で学んだトランザクション処理の基本だよ。",
          "choiceAnalysis": [
            {"choice": "ア", "verdict": "✗", "explanation": "索引（インデックス）は検索を速くする技術だけど、ACID特性とは関係ないよ。索引は「本の目次」のようなものだね。"},
            {"choice": "イ", "verdict": "◎ 正解", "explanation": "原子性（Atomicity）＝一連の処理が「全部成功」か「全部取り消し」のどちらかになること。これがACIDの「A」だよ！"},
            {"choice": "ウ", "verdict": "✗", "explanation": "データベースの複製（レプリケーション）は可用性の話。ACID特性の説明ではないよ。"},
            {"choice": "エ", "verdict": "✗", "explanation": "正規化はテーブル設計の話で、データの重複や矛盾を防ぐ方法。ACID特性とは目的が違うんだ。"}
          ],
          "solvingStrategy": {
            "steps": [
              "ACID＝Atomicity（原子性）、Consistency（一貫性）、Isolation（独立性）、Durability（永続性）",
              "原子性＝「全部実行」か「全部取り消し」のどちらかにする性質",
              "お金の振込みで「引き落とし」と「入金」を必ずセットにするイメージ"
            ],
            "trap": "ACID特性と他のデータベース技術（索引、レプリケーション、正規化）を混同しやすい。ACID特性は「トランザクション処理の信頼性を保証する4つの性質」だよ！"
          }
        }
      ],
      "rewards": {
        "clearTitle": "データの守護者",
        "exp": 500,
        "gold": 1000,
        "bonusCard": {
          "cardName": "データゴーレム",
          "rarity": 4,
          "summary": "データとアルゴリズムの全知識を武器に石の魔物を打ち砕いた証。データベースの基本操作からSQL、探索アルゴリズム、トランザクション処理まで、データマスターの称号にふさわしい！"
        }
      }
    }
  ]
}
